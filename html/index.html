<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style.css">
  <title>Document</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.2.0/dist/aframe-extras.misc.min.js"></script>
  <script src="https://unpkg.com/aframe-template-component@3.x.x/dist/aframe-template-component.min.js"></script>
  <script src="https://unpkg.com/aframe-layout-component@4.x.x/dist/aframe-layout-component.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>
  <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-blink-controls/dist/aframe-blink-controls.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v7.2.0/dist/aframe-extras.misc.min.js"></script>
</head>

<body>
  <section class="fixed__section scene ">
    <h2 class="title__scene">Scènes</h2>
    <button id="save-button">save</button>
    <div class="header__section">
      <img src="./assets/svg/collection.svg" alt="Collection icon">
      <label for="pet-select">Scène</label>
      <div class="div__tools">
        <button class="btn__icon">
          <img id="plus-scene" class="icon__scene" src="./assets/svg/plus-lg.svg" alt="Plus icon">
        </button>
        <button class="btn__icon">
          <img id="duplicate-scene" class="icon__scene" src="./assets/svg/copy.svg" alt="Copy icon">
        </button>
        <button class="btn__icon">
          <img id="minus-scene" class="icon__scene" src="./assets/svg/trash3.svg" alt="Trash icon">
        </button>
      </div>
    </div>

    <select name="scene" id="selectscene">
    </select>

    <div class="rename__section">
      <label class="label__rename" for="rename">Renommez</label>
      <div class="div__rename">
        <input id="scene-name" class="input__champ" type="text" id="rename" name="rename" placeholder="Renommez" />
        <button id="switchscenename" class="button__submit">Valider</button>
      </div>
    </div>

    <div class="import__section">
      <div class="div__section_title">
        <img src="./assets/svg/folder.svg" alt="Folder icon">
        <label >Image 360 importé (1 max)</label>
      </div>
      <ul id="name_import">

      </ul>

      <div class="div__import">
        <label for="file-upload" class="custom-file-upload">
          ajouter une image 360
        </label>
        <input id="file-upload" type="file" accept=".png, .jpg, .jpeg" />

        <div class="div__tools">
          <button class="btn__icon">
            <img class="icon__scene" src="./assets/svg/plus-lg.svg" alt="Plus icon">
          </button>
        </div>
      </div>
    </div>

    <div class="tag__section">
      <div class="div__section_title">
        <img src="./assets/svg/tag.svg" alt="Tag icon">
        <label>Ajouter un tag</label>
      </div>

      <div class="div__tags">
        <button id="plus-door" class="btn__tag">
          <img  src="./assets/svg/door-closed.svg" alt="Door icon">
          Porte
        </button>
        <button class="btn__tag">
          <img src="./assets/svg/info-circle.svg" alt="Info Bulle icon">
          Info Bulle
        </button>
        <button id="plus-text" class="btn__tag">
          <img src="./assets/svg/card-text.svg" alt="Texte icon">
          Texte
        </button>
        <button class="btn__tag">
          <img src="./assets/svg/file-image.svg" alt="Photo icon">
          Photo
        </button>
      </div>
    </div>

    <div class="techtree__section">
      <div class="div__section_title">
        <img src="./assets/svg/diagram-2.svg" alt="Techtree icon">
        <label>Explorer</label>
      </div>
      <div class="explorer__div">
        <p id="scene-title-explorer" class="title__explorer">Scène</p>
        <ul id="scene-tags" class="ul__objet">
        </ul>
      </div>
    </div>

  </section>

</section>

<section id="tempalte_section"></section>
<a-scene id="a-scene">
  <a-assets id="assets-container">
  </a-assets>

  <a-sky id="image-360" rotation="0 -90 0" src="#img1" material="color: #FFFFFF"></a-sky>
  <!-- Assets 360 -->
  <a-box position="0 1.6 -3" rotation="0 45 0" width="1" height="1" depth="1" color="#4CC3D9" 
       class="clickable" dynamic-body collision-filter="group: box; collidesWith: hand" raycaster="objects: .clickable">
</a-box>
  <a-entity id="door-entity">
   
  </a-entity>

  <a-entity id="text-entity">
  </a-entity>

  <!-- Camera and cursor with Oculus Quest 2 controller support -->
  <a-entity position="0 1.6 0" id="camera" camera look-controls>
    <a-cursor id="cursor"
      animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
      event-set__mouseenter="_event: mouseenter; color: springgreen"
      event-set__mouseleave="_event: mouseleave; color: black" raycaster="objects: .clickable, #click-ring ">
    </a-cursor>
  </a-entity>

  <a-entity id="leftController" oculus-touch-controls="hand: left" raycaster="objects: .clickable , #click-ring; far: 100">
    <a-entity
      geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.04"
      position="0 0 -0.05"
      material="color: springgreen; shader: flat">
    </a-entity>
    <!-- Rayon visible -->
    <a-entity line="start: 0 0 0; end: 0 0 -1000" material="color: springgreen"></a-entity>
  </a-entity>

  <a-entity id="cameraRig"  wasd-controls>
    <a-entity id="rightController" position="0 1.6 0" camera look-controls="reverseMouseDrag: true"></a-entity>
    <a-entity oculus-touch-controls="hand: right" ></a-entity>
    <a-entity 
    laser-controls="hand: right;";
    raycaster="objects: .clickable"></a-entity>
</a-entity>

 
</a-scene>
</body>

</html>

<template id="template__porte">
  <h2 class="title__scene">Objet</h2>

  <div class="header__section">
    <img src="./assets/svg/box.svg" alt="Box icon">
    <label>Objet</label>
    <div class="div__tools">
      <button class="btn__icon">
        <img id="duplicate-porte" class="icon__scene" src="./assets/svg/copy.svg" alt="Copy icon">
      </button>
      <button id="delete-porte" class="btn__icon">
        <img class="icon__scene" src="./assets/svg/trash3.svg" alt="Trash icon">
      </button>
    </div>
  </div>

  <div class="info__div porte">
    <p id="door-name" class="info__para"></p>
  </div>

  <div class="rename__section"></div>
  <label class="label__rename" for="rename">Renommez</label>
  <div class="div__rename">
    <input class="input__champ" type="text" id="rename" name="rename" placeholder="Renommez" />
    <button class="button__submit">Valider</button>
  </div>
  </div>

  <div class="texte__section">
    <div class="div__section_title">
      <img src="./assets/svg/braces.svg" alt="Braces icon">
      <label>Trigger</label>
    </div>

    <div class="legend__section">
      <label class="legend__label" for="text_legend">Vers scène</label>
      <select name="scene-route-select" id="scene-route-select" class="scene-select">
    
      </select>
    </div>
  </div>

  <div id="door-position" class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/crosshair.svg" alt="Crosshair icon">
      <label>Position</label>
    </div>
   
    <div class="position__div">
      <label for="x">x</label>
      <input type="range" name="x" id="x-slider" value="0" min="-10" max="10" step="0.1" class="inputRange" />
      <div id="x-value" class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="y">y</label>
      <input type="range" name="y" id="y-slider" value="0" min="-10" max="10" step="0.1" class="inputRange" />
      <div id="y-value" class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="z">z</label>
      <input type="range" name="z" id="z-slider" value="0" min="-10" max="10" step="0.1" class="inputRange" />
      <div id="z-value" class="range__value">0</div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/arrows-angle-expand.svg" alt="Arrows icon">
      <label>Taille</label>
    </div>

    <div class="position__div">
      <label for="w">w</label>
      <input type="range" name="w" id="w" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="h">h</label>
      <input type="range" name="h" id="h" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/palette.svg" alt="Palette icon">
      <label>Couleurs</label>
    </div>

    <div class="div__color">
      <label for="fill">Fill</label>
      <div class="sec__input_color">
        <input type="color" name="fill" id="fill" value="#00C058">
        <p>00C058</p>
      </div>
    </div>
    <div class="div__color">
      <label for="stroke">Stroke</label>
      <div class="sec__input_color">
        <input type="color" name="stroke" id="stroke" value="#009EC0">
        <p>009EC0</p>
      </div>
    </div>
  </div>
</template>

<template id="template__info_bulle">
  <h2 class="title__scene">Objet</h2>

  <div class="header__section">
    <img src="./assets/svg/box.svg" alt="Box icon">
    <label>Objet</label>
    <div class="div__tools">
      <button class="btn__icon">
        <img class="icon__scene" src="./assets/svg/plus-lg.svg" alt="Plus icon">
      </button>
      <button class="btn__icon">
        <img class="icon__scene" src="./assets/svg/copy.svg" alt="Copy icon">
      </button>
      <button class="btn__icon">
        <img class="icon__scene" src="./assets/svg/trash3.svg" alt="Trash icon">
      </button>
    </div>
  </div>

  <div class="info__div info_bulle">
    <p class="info__para">Info Bulle 1</p>
  </div>

  <div class="rename__section"></div>
  <label class="label__rename" for="rename">Renommez</label>
  <div class="div__rename">
    <input class="input__champ" type="text" id="rename" name="rename" placeholder="Renommez" />
    <button class="button__submit">Valider</button>
  </div>
  </div>

  <div class="texte__section">
    <div class="div__section_title">
      <img src="./assets/svg/card-text-black.svg" alt="Texte icon">
      <label>Texte</label>
    </div>

    <div class="legend__section">
      <label class="legend__label" for="text_info_bulle">Titre</label>
      <input class="input__champ text" type="text" name="text_info_bulle" placeholder="Entrez votre titre...">
    </div>
    <div class="legend__section">
      <label class="legend__label" for="text_info_bulle">Description</label>
      <input class="input__champ text" type="text" name="text_info_bulle" placeholder="Entrez votre description...">
    </div>
    <button class="button__submit">Valider</button>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/crosshair.svg" alt="Crosshair icon">
      <label>Position</label>
    </div>

    <div class="position__div">
      <label for="x">x</label>
      <input type="range" name="x" id="x" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="y">y</label>
      <input type="range" name="y" id="y" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="z">z</label>
      <input type="range" name="z" id="z" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/arrows-angle-expand.svg" alt="Arrows icon">
      <label>Taille</label>
    </div>

    <div class="position__div">
      <label for="w">w</label>
      <input type="range" name="w" id="w" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="h">h</label>
      <input type="range" name="h" id="h" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/palette.svg" alt="Palette icon">
      <label>Couleurs</label>
    </div>

    <div class="div__color">
      <label for="fill">Fill</label>
      <div class="sec__input_color">
        <input type="color" name="fill" id="fill" value="#00C058">
        <p>00C058</p>
      </div>
    </div>
    <div class="div__color">
      <label for="stroke">Stroke</label>
      <div class="sec__input_color">
        <input type="color" name="stroke" id="stroke" value="#009EC0">
        <p>009EC0</p>
      </div>
    </div>
  </div>
</template>

<template id="template__texte">
  <h2 class="title__scene">Objet</h2>

  <div class="header__section">
    <img src="./assets/svg/box.svg" alt="Box icon">
    <label>Objet</label>
    <div class="div__tools">
      <button class="btn__icon">
        <img class="icon__scene" src="./assets/svg/plus-lg.svg" alt="Plus icon">
      </button>
      <button id="duplicate-text" class="btn__icon">
        <img class="icon__scene" src="./assets/svg/copy.svg" alt="Copy icon">
      </button>
      <button id="delete-text" class="btn__icon">
        <img class="icon__scene" src="./assets/svg/trash3.svg" alt="Trash icon">
      </button>
    </div>
  </div>

  <div class="info__div texte">
    <p id="text-name" class="info__para">{{name}}</p>
  </div>

  <div class="rename__section"></div>
  <label class="label__rename" for="rename">Renommez</label>
  <div class="div__rename">
    <input class="input__champ" type="text" id="rename" name="rename" placeholder="Renommez" value="{{name}}" />
    <button class="button__submit" id="RenameButton">Valider</button>
  </div>
  </div>

  <div class="texte__section">
    <div class="div__section_title">
      <img src="./assets/svg/card-text-black.svg" alt="Card Text icon">
      <label>Texte</label>
    </div>

    <div class="legend__section">
      <label class="legend__label" for="text_legend">Légende</label>
      <textarea id="text_legend" name="text_legend" rows="5" cols="33" placeholder="Entrez votre légende..."></textarea>
      <button class="button__submit" id="LegendButton">Valider</button>
    </div>
  </div>

  <div id="text-position" class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/crosshair.svg" alt="Crosshair icon">
      <label>Position</label>
    </div>

    <div class="position__div">
      <label for="x">x</label>
      <input type="range" name="x" id="x-slider" value="0" min="-10" max="10" step="0.1" class="inputRange position" />
      <div id="x-value" class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="y">y</label>
      <input type="range" name="y" id="y-slider" value="0" min="-10" max="10" step="0.1" class="inputRange position" />
      <div id="y-value" class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="z">z</label>
      <input type="range" name="z" id="z-slider" value="0" min="-10" max="10" step="0.1" class="inputRange position" />
      <div id="z-value" class="range__value">0</div>
    </div>
  </div>

  <div id="text-position" class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/arrow-repeat.svg" alt="Rotation icon">
      <label>Rotation</label>
    </div>

    <div class="position__div">
      <label for="rx">rx</label>
      <input type="range" name="rx" id="rx-slider" value="{{x}}" min="-5" max="5" step="0.1" class="inputRange rotation" />
      <div id="rx-value" class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="ry">ry</label>
      <input type="range" name="ry" id="ry-slider" value="{{y}}" min="-5" max="5" step="0.1" class="inputRange rotation" />
      <div id="ry-value" class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="rz">rz</label>
      <input type="range" name="rz" id="rz-slider" value="{{z}}" min="-5" max="5" step="0.1" class="inputRange rotation" />
      <div id="rz-value" class="range__value">0</div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/arrows-angle-expand.svg" alt="Arrows icon">
      <label>Taille</label>
    </div>

    <div class="position__div">
      <label for="w">w</label>
      <input type="range" name="w" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="h">h</label>
      <input type="range" name="h" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/palette.svg" alt="Palette icon">
      <label>Couleurs</label>
    </div>

    <div class="div__color">
      <label for="fill">Fill</label>
      <div class="sec__input_color">
        <input type="color" name="fill" id="fillText" value="#00C058">
        <p>00C058</p>
      </div>
    </div>
    <div class="div__color">
      <label for="stroke">Stroke</label>
      <div class="sec__input_color">
        <input type="color" name="stroke" id="strokeText" value="#009EC0">
        <p>009EC0</p>
      </div>
    </div>
  </div>
</template>

<template class="template__photo">
  <h2 class="title__scene">Objet</h2>

  <div class="header__section">
    <img src="./assets/svg/box.svg" alt="Box icon">
    <label>Objet</label>
    <div class="div__tools">
      <button class="btn__icon">
        <img class="icon__scene" src="./assets/svg/plus-lg.svg" alt="Plus icon">
      </button>
      <button class="btn__icon">
        <img class="icon__scene" src="./assets/svg/copy.svg" alt="Copy icon">
      </button>
      <button class="btn__icon">
        <img class="icon__scene" src="./assets/svg/trash3.svg" alt="Trash icon">
      </button>
    </div>
  </div>

  <div class="info__div photo">
    <p class="info__para">Image 1</p>
  </div>

  <div class="rename__section"></div>
  <label class="label__rename" for="rename">Renommez</label>
  <div class="div__rename">
    <input class="input__champ" type="text" id="rename" name="rename" placeholder="Renommez" />
    <button class="button__submit">Valider</button>
  </div>
  </div>

  <div class="import__section"></div>
    <div class="div__section_title">
      <img src="./assets/svg/folder.svg" alt="Folder icon">
      <label for="input_file">Photo importé</label>
    </div>

    <div class="div__import">
      <label for="file-upload" class="custom-file-upload">
        add images
      </label>
      <input id="file-upload" type="file" />

      <div class="div__tools">
        <button class="btn__icon">
          <img class="icon__scene" src="./assets/svg/plus-lg.svg" alt="Plus icon">
        </button>
        <button class="btn__icon">
          <img class="icon__scene" src="./assets/svg/trash3.svg" alt="Trash icon">
        </button>
      </div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/crosshair.svg" alt="Crosshair icon">
      <label>Position</label>
    </div>

    <div class="position__div">
      <label for="x">x</label>
      <input type="range" name="x" id="x" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="y">y</label>
      <input type="range" name="y" id="y" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="z">z</label>
      <input type="range" name="z" id="z" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
  </div>

  <div class="position__section">
    <div class="div__section_title">
      <img src="./assets/svg/arrows-angle-expand.svg" alt="Arrows icon">
      <label>Taille</label>
    </div>

    <div class="position__div">
      <label for="w">w</label>
      <input type="range" name="w" id="w" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
    <div class="position__div">
      <label for="h">h</label>
      <input type="range" name="h" id="h" value="0" min="-100" max="100" step="any" class="inputRange" />
      <div class="range__value">0</div>
    </div>
  </div>
</template>


<script type="module" src="./main.js"></script>